<!DOCTYPE html>
<html lang="en">
<head>
  <title>Copy text and find out the font.</title>
  <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.css">
</head>

<body ng-app="FontcopyApp" ng-controller="FontcopyCtrl">

<md-content layout-padding="">
  <form name="pasteForm">
    <md-input-container class="md-block">
    <label>Paste your text here</label>
    <input ng-paste='handlepaste($event)' md-maxlength="300000" required="" name="text" ng-model="text" onpaste>
    </md-input-container>
  </form>
</md-content>
<span>{{ font }}</span>
<div id="div"></div>

 <!-- Angular Material requires Angular.js Libraries -->
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-aria.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-messages.min.js"></script>

  <!-- Angular Material Library -->
  <script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.js"></script>
  
  <!-- Your application bootstrap  -->
  <script type="text/javascript">    
    angular.module('FontcopyApp', ['ngMaterial'])
    .controller('FontcopyCtrl', function($scope) {
        $scope.font = "";
        $scope.handlepaste = handlepaste;

        function handlepaste (e) {
          var elem = document.getElementById("div");
          var savedcontent = elem.innerHTML;
          if (e && e.clipboardData && e.clipboardData.getData) {// Webkit - get data from clipboard, put into editdiv, cleanup, then cancel event
            if (/text\/html/.test(e.clipboardData.types)) {
              console.log(e.clipboardData.getData('text/html'));
              elem.innerHTML = e.clipboardData.getData('text/html');
              $scope.font = e.clipboardData.getData('text/html');
              console.log($scope.font);
            }
            else if (/text\/plain/.test(e.clipboardData.types)) {
              console.log(e.clipboardData.getData('text/plain'));
              elem.innerHTML = e.clipboardData.getData('text/plain');
              $scope.font = e.clipboardData.getData('text/plain');
              console.log($scope.font);
            }
            else {
              elem.innerHTML = "";
              $scope.font = "";
            }
          waitforpastedata(elem, savedcontent);
          if (e.preventDefault) {
            e.stopPropagation();
            e.preventDefault();
          }
          return false;
        }
        else {// Everything else - empty editdiv and allow browser to paste content into it, then cleanup
          elem.innerHTML = "";
          waitforpastedata(elem, savedcontent);
          return true;
        }
      }

      function waitforpastedata (elem, savedcontent) {
        if (elem.childNodes && elem.childNodes.length > 0) {
          processpaste(elem, savedcontent);
        }
        else {
          that = {
              e: elem,
              s: savedcontent
            }
            that.callself = function () {
              waitforpastedata(that.e, that.s)
            }
            setTimeout(that.callself,20);
          }
        }

        function processpaste (elem, savedcontent) {
          pasteddata = elem.innerHTML;
          //^^Alternatively loop through dom (elem.childNodes or elem.getElementsByTagName) here

          elem.innerHTML = savedcontent;

          // Do whatever with gathered data;
          //alert(pasteddata);
        }
    });
  </script>

</body>
</html>
